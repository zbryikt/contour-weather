var loader,chart,reverse,update,filter,load;loader=$("#loading"),$(".rangeslider").ionRangeSlider({min:+moment("2017031809").format("X"),max:+moment("2017032011").format("X"),prettify:function(t){return moment(t,"X").format("YYYY/MM/DD HH:00")},onChange:function(t){return chart.handler&&clearTimeout(chart.handler),chart.handler=setTimeout(function(){var r;return r=moment(32400+t.from,"X").format("YYYYMMDDHH"),load(r),chart.handler=null},300)}}),chart={contour:null,data:null},reverse=function(t){var r,a,e,n,o;for(r=[],a=0;233>a;++a)for(e=a,n=0;233>n;++n)o=n,r[o+233*e]=t[o+233*(232-e)];return r},update=function(t){return null==t&&(t={}),chart.tag=(t.target||(t.target={})).textContent||chart.tag||"能見度",chart.contour.data(chart.data,!0,{value:[chart.tag]}),chart.contour.inited||chart.contour.attach("#contour"),loader.hide()},filter=document.getElementById("filter"),filter.addEventListener("click",function(t){return loader.show(),setTimeout(function(){return update(t)},100)}),load=function(t){return loader.show(),d3.csv("csv/"+t+".csv",function(t){return chart.data=reverse(t),update()})},chart.contour=plotdb.chart.get("contour map"),chart.contour.config({dataGridWidth:233,dataGridHeight:233}),load("2017031809");